{% extends "layout.html" %}
{% block title %}{% endblock %}

{% block content %}
    
    <h1>ICON Blockchain Transaction Count</h1>
    <div id="txcount" style="margin:20px; padding:20px; width:80%; height:500px;"></div>

    <h1>ICON Blockchain Average ICX Transfer Amount</h1>
    <div id="avgicx" style="margin:20px; padding:20px; width:80%; height:500px;"></div>

    <script type="text/javascript">
        window.chartColors = {
            red: 'rgb(255, 99, 132)',
            orange: 'rgb(255, 159, 64)',
            yellow: 'rgb(255, 205, 86)',
            green: 'rgb(75, 192, 192)',
            blue: 'rgb(54, 162, 235)',
            purple: 'rgb(153, 102, 255)',
            grey: 'rgb(201, 203, 207)'
        };

        var txcount = {{txcount | safe}};
        txcount = txcount.map (x => [new Date(x[0]), x[1]])
        new Dygraph (
            document.getElementById("txcount"),
            txcount, {
                labels: ["Date", "Transaction Count"],
                labelsSeparateLines: true,
                animatedZooms: true,
                rangeSelectorPlotFillColor: 'MediumSlateBlue',
                rangeSelectorPlotFillGradientColor: 'rgba(123, 104, 238, 0)',
            }
        );

        var avgicx = {{avgicx | safe}};
        avgicx = avgicx.map (x => [new Date(x[0]), x[1]])
        new Dygraph (
            document.getElementById("avgicx"),
            avgicx, {
                labels: ["Date", "Average ICX Transfer Amount"],
                labelsSeparateLines: true,
                animatedZooms: true,
                rangeSelectorPlotFillColor: 'MediumSlateBlue',
                rangeSelectorPlotFillGradientColor: 'rgba(123, 104, 238, 0)',
            }
        );
    </script>
{% endblock %}